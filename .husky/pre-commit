# Auto-incrementar versi칩n antes de commit
# Solo incrementa si la versi칩n es igual a la de main y no est치 ya en staging
node scripts/auto-bump-version.js patch > /dev/null 2>&1

# Si package.json fue modificado por el script, agregarlo al staging area
if [ -n "$(git diff --name-only package.json)" ] && [ -z "$(git diff --cached --name-only package.json)" ]; then
  git add package.json
  echo "游닍 Versi칩n incrementada autom치ticamente y agregada al commit"
fi

# Verificar formato y hacer lint de archivos staged
# Si el formato no es correcto, el commit fallar치
npx lint-staged
